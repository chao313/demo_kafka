webpackJsonp([17],{C3bz:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("0xDb");var i={data:function(){return{bootstrap:{servers:"192.168.0.105:9092"},topicPartitionAndRealOffsetDetail:{partition:1,earliestOffset:0,topic:"xxxxx",lastOffset:400,sum:400,lastConsumerRecord:{offset:399,topic:"Test",partition:1,serializedKeySize:3,serializedValueSize:7,key:"key",value:"value11",timestampType:"CREATE_TIME",timestamp:1586700464576,leaderEpoch:{value:0}},earliestConsumerRecord:{partition:1,serializedKeySize:3,offset:0,leaderEpoch:{value:0},topic:"Test",timestampType:"CREATE_TIME",serializedValueSize:5,value:"value",key:"key",timestamp:1586598100479},lastTenConsumerRecords:[{partition:1,serializedKeySize:3,offset:0,leaderEpoch:{value:0},topic:"Test",timestampType:"CREATE_TIME",serializedValueSize:5,value:"value",key:"key",timestamp:1586598100479}]},search:{bootstrap:{servers:"192.168.0.105:9092"},topic:{},partition:0,startOffset:0,endOffset:0},consumerRecords:[{partition:1,serializedKeySize:3,offset:0,leaderEpoch:{value:0},topic:"Test",timestampType:"CREATE_TIME",serializedValueSize:5,value:"value",key:"key",timestamp:0xe6e16296bf7}]}},mounted:function(){},created:function(){this.consumerRecords=[],this.topicPartitionAndRealOffsetDetail=[];var t=this.$route.query&&this.$route.query.bootstrap_servers,e=this.$route.query&&this.$route.query.topic,s=this.$route.query&&this.$route.query.partition;this.search.bootstrap.servers=t,this.search.topic=e,this.search.partition=s,this.getTopicPartitionAndRealOffsetDetail(t,e,s)},watch:{},methods:{getTopicPartitionAndRealOffsetDetail:function(t,e,s){var i=this;i.$http.get(i.api.getTopicPartitionAndRealOffsetDetail,{params:{"bootstrap.servers":t,topic:e,partition:s}},function(t){0==t.code?(i.topicPartitionAndRealOffsetDetail=t.content,t.content.lastTenConsumerRecords.forEach(function(t){t.timestamp=i.dateFormat("YYYY-mm-dd HH:MM:SS.s",new Date(t.timestamp))}),t.content.earliestConsumerRecord&&(t.content.earliestConsumerRecord.timestamp=i.dateFormat("YYYY-mm-dd HH:MM:SS.s",new Date(t.content.earliestConsumerRecord.timestamp)),i.search.startOffset=t.content.earliestConsumerRecord.offset),t.content.lastConsumerRecord&&(t.content.lastConsumerRecord.timestamp=i.dateFormat("YYYY-mm-dd HH:MM:SS.s",new Date(t.content.lastConsumerRecord.timestamp)),i.search.endOffset=t.content.lastConsumerRecord.offset),i.$message({type:"success",message:"查询成功",duration:2e3})):i.$message({type:"error",message:t.msg,duration:2e3})},function(t){i.$message({type:"warning",message:"请求异常",duration:1e3})})},getRecordByTopicPartitionOffset:function(){var t=this;t.consumerRecords=[],t.$http.get(t.api.getRecordByTopicPartitionOffset,{params:{"bootstrap.servers":t.search.bootstrap.servers,topic:t.search.topic,partition:t.search.partition,startOffset:t.search.startOffset,endOffset:t.search.endOffset}},function(e){0==e.code?(e.content.forEach(function(e){e.timestamp=t.dateFormat("YYYY-mm-dd HH:MM:SS.s",new Date(e.timestamp)),t.consumerRecords.push(e)}),t.$message({type:"success",message:"查询成功",duration:2e3})):t.$message({type:"error",message:e.msg,duration:2e3})},function(e){t.$message({type:"warning",message:"请求异常",duration:1e3})})},routerToView:function(t){var e="";e=e+"id="+t,window.open("#/TBlogModuleView?"+e,"_self")},routerToEdit:function(t){var e="";e=e+"id="+t,window.open("#/TBlogModuleEdit?"+e,"_self")},routerToAdd:function(){window.open("#/TBlogModuleAdd","_self")},searchEvent:function(){this.getRecordByTopicPartitionOffset()},searchRest:function(){this.search.id="",this.search.title="",this.search.img="",this.search.time="",this.search.type="",this.search.lookSum="",this.search.content="",this.queryBase()},dateFormat:function(t,e){var s=void 0,i={"Y+":e.getFullYear().toString(),"m+":(e.getMonth()+1).toString(),"d+":e.getDate().toString(),"H+":e.getHours().toString(),"M+":e.getMinutes().toString(),"S+":e.getSeconds().toString(),"s+":this.dealMilliseconds(e.getMilliseconds().toString())};for(var a in i)(s=new RegExp("("+a+")").exec(t))&&(t=t.replace(s[1],1==s[1].length?i[a]:i[a].padStart(s[1].length,"0")));return t},dealMilliseconds:function(t){return 1==t.length?t+"00":2==t.length?t+"0":t}}},a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app-container"},[s("div",{staticClass:"app-list"},[s("div",{staticClass:"app-tab"},[s("h5",{staticClass:"form-tit"},[t._v("TopicPartition基础信息")]),t._v(" "),s("table",[t._m(0),t._v(" "),t._m(1),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("1")]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.topic))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.partition))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestOffset))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastOffset))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.sum))])])])]),t._v(" "),s("hr"),t._v(" "),s("h5",{staticClass:"form-tit"},[t._v("第一条有效offset")]),t._v(" "),s("table",[t._m(2),t._v(" "),t._m(3),t._v(" "),s("tbody",[t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord?[s("tr",[s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.offset))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.topic))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.partition))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.key))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.value))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.timestampType))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.timestamp))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.earliestConsumerRecord.leaderEpoch.value))])])]:t._e()],2)]),t._v(" "),s("hr"),t._v(" "),s("h5",{staticClass:"form-tit"},[t._v("最新的offset")]),t._v(" "),s("table",[t._m(4),t._v(" "),t._m(5),t._v(" "),s("tbody",[t.topicPartitionAndRealOffsetDetail.lastConsumerRecord?[s("tr",[s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.offset))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.topic))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.partition))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.key))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.value))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.timestampType))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.timestamp))]),t._v(" "),s("td",[t._v(t._s(t.topicPartitionAndRealOffsetDetail.lastConsumerRecord.leaderEpoch.value))])])]:t._e()],2)]),t._v(" "),s("hr"),t._v(" "),s("h5",{staticClass:"form-tit"},[t._v("最新的10条offset")]),t._v(" "),s("table",[t._m(6),t._v(" "),t._m(7),t._v(" "),s("tbody",[t.topicPartitionAndRealOffsetDetail.lastTenConsumerRecords?t._l(t.topicPartitionAndRealOffsetDetail.lastTenConsumerRecords,function(e,i){return s("tr",[s("td",[t._v(t._s(i+1))]),t._v(" "),s("td",[t._v(t._s(e.offset))]),t._v(" "),s("td",[t._v(t._s(e.topic))]),t._v(" "),s("td",[t._v(t._s(e.partition))]),t._v(" "),s("td",[t._v(t._s(e.key))]),t._v(" "),s("td",[t._v(t._s(e.value))]),t._v(" "),s("td",[t._v(t._s(e.timestampType))]),t._v(" "),s("td",[t._v(t._s(e.timestamp))]),t._v(" "),s("td",[t._v(t._s(e.leaderEpoch.value))])])}):t._e()],2)]),t._v(" "),s("hr"),t._v(" "),s("h5",{staticClass:"form-tit"},[t._v("获取指定offset数据")]),t._v(" "),s("div",{staticClass:"mt20"},[s("el-form",{attrs:{inline:!0,size:"mini"}},[s("el-form-item",{attrs:{label:"startOffset"}},[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.search.startOffset,callback:function(e){t.$set(t.search,"startOffset",e)},expression:"search.startOffset"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"endOffset"}},[s("el-input",{attrs:{placeholder:"请输入"},model:{value:t.search.endOffset,callback:function(e){t.$set(t.search,"endOffset",e)},expression:"search.endOffset"}})],1),t._v(" "),s("el-form-item",[s("el-button",{staticClass:"el-button-search",attrs:{type:"primary"},on:{click:function(e){return t.searchEvent()}}},[t._v("查询")])],1)],1)],1),t._v(" "),s("table",[t._m(8),t._v(" "),t._m(9),t._v(" "),s("tbody",[t.consumerRecords?t._l(t.consumerRecords,function(e,i){return s("tr",[s("td",[t._v(t._s(i+1))]),t._v(" "),s("td",[t._v(t._s(e.offset))]),t._v(" "),s("td",[t._v(t._s(e.topic))]),t._v(" "),s("td",[t._v(t._s(e.partition))]),t._v(" "),s("td",[t._v(t._s(e.key))]),t._v(" "),s("td",[t._v(t._s(e.value))]),t._v(" "),s("td",[t._v(t._s(e.timestampType))]),t._v(" "),s("td",[t._v(t._s(e.timestamp))]),t._v(" "),s("td",[t._v(t._s(e.leaderEpoch.value))])])}):t._e()],2)])])])])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("id")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("partition")]),t._v(" "),s("th",[t._v("earliestOffset")]),t._v(" "),s("th",[t._v("lastOffset")]),t._v(" "),s("th",[t._v("sum")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("分区")]),t._v(" "),s("th",[t._v("最早有效的offset")]),t._v(" "),s("th",[t._v("最新的offset")]),t._v(" "),s("th",[t._v("有效的记录数量")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("offset")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("timestampType")]),t._v(" "),s("th",[t._v("timestamp")]),t._v(" "),s("th",[t._v("leaderEpoch.value")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("msg偏移量")]),t._v(" "),s("th",[t._v("msg所在的topic")]),t._v(" "),s("th",[t._v("msg所在的partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("msg的时间type")]),t._v(" "),s("th",[t._v("msg的时间(创建/接收)")]),t._v(" "),s("th",[t._v("水位")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("offset")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("timestampType")]),t._v(" "),s("th",[t._v("timestamp")]),t._v(" "),s("th",[t._v("leaderEpoch.value")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("msg偏移量")]),t._v(" "),s("th",[t._v("msg所在的topic")]),t._v(" "),s("th",[t._v("msg所在的partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("msg的时间type")]),t._v(" "),s("th",[t._v("msg的时间(创建/接收)")]),t._v(" "),s("th",[t._v("水位")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("id")]),t._v(" "),s("th",[t._v("offset")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("timestampType")]),t._v(" "),s("th",[t._v("timestamp")]),t._v(" "),s("th",[t._v("leaderEpoch.value")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("msg偏移量")]),t._v(" "),s("th",[t._v("msg所在的topic")]),t._v(" "),s("th",[t._v("msg所在的partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("msg的时间type")]),t._v(" "),s("th",[t._v("msg的时间(创建/接收)")]),t._v(" "),s("th",[t._v("水位")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("tr",[s("th",[t._v("id")]),t._v(" "),s("th",[t._v("offset")]),t._v(" "),s("th",[t._v("topic")]),t._v(" "),s("th",[t._v("partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("timestampType")]),t._v(" "),s("th",[t._v("timestamp")]),t._v(" "),s("th",[t._v("leaderEpoch.value")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[t._v("序号")]),t._v(" "),s("th",[t._v("msg偏移量")]),t._v(" "),s("th",[t._v("msg所在的topic")]),t._v(" "),s("th",[t._v("msg所在的partition")]),t._v(" "),s("th",[t._v("key")]),t._v(" "),s("th",[t._v("value")]),t._v(" "),s("th",[t._v("msg的时间type")]),t._v(" "),s("th",[t._v("msg的时间(创建/接收)")]),t._v(" "),s("th",[t._v("水位")])])}]};var r=s("VU/8")(i,a,!1,function(t){s("aW8C")},null,null);e.default=r.exports},aW8C:function(t,e){}});
//# sourceMappingURL=17.0bcb0b66ea4d941b1dfe.js.map